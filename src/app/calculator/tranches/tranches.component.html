<section class="card-wrapper">

    <app-card-header [header]="cardHeader"></app-card-header>

    <div class="flex-row-wrapper new-tranche">
        <app-datepicker [configuration]="datePickerField" (valueChange)="updateNewTrancheDate($event)"></app-datepicker>

        <app-input-field [configuration]="newTranchePercentageInput" (valueChange)="updateNewTrancheValue($event)">
        </app-input-field>

        <div class="empty-space"></div>
    </div>

    <div class="action-button-right">
        <app-button [configuration]="addTrancheButton" [isDisabled]="!isTrancheFieldValid()" (onClick)="addTranche()">
        </app-button>
    </div>

    <app-divider [isShown]="areTranches()"></app-divider>
    <div *ngFor="let tranche of tranches">
        <div *ngIf="!isTrancheDeleted(tranche)" @fadeSlideInOut class="tranches">

            <span class="tranche-date">{{tranche.monthYear}}</span>
            <span class="tranche-date-shortcut">{{tranche.monthYearShortcut}}</span>
            <span class="tranche-percentage">{{tranche.percentage / 100 | percent: '1.0-2'}}</span>
            <span class="tranche-value">{{tranche.value | currency:'z≈Ç'}}</span>

            <app-button class="remove-button" [configuration]="deleteTrancheButton" (onClick)="deleteTranche(tranche)">
            </app-button>
        </div>
    </div>

</section>